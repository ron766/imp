webpackJsonp([96613889610866],{618:function(n,s){n.exports={data:{naderDabit:{sizes:{base64:"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQADAAAAAAAAAAAAAAAAAAQBAwX/xAAYAQEAAwEAAAAAAAAAAAAAAAABAAIDBP/aAAwDAQACEAMQAAAB4uzFKQrEJQWoGvP/AP/EABwQAAIBBQEAAAAAAAAAAAAAAAACAQMREiEzQf/aAAgBAQABBQIZbQKNyWnryDKT/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQERL/2gAIAQMBAT8BZpRR/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPwEx3//EABcQAAMBAAAAAAAAAAAAAAAAAAABICH/2gAIAQEABj8CE41R/8QAHRABAAMAAQUAAAAAAAAAAAAAAQARIRAxQVFhcf/aAAgBAQABPyEJX16bKjB3uR9GtuTyt+8W1PZP/9oADAMBAAIAAwAAABBkPwH/xAAZEQEBAQADAAAAAAAAAAAAAAABACERUWH/2gAIAQMBAT8QSIZt6zcOr//EABgRAAMBAQAAAAAAAAAAAAAAAAABERBh/9oACAECAQE/EFDllZ//xAAeEAEAAgEEAwAAAAAAAAAAAAABABEhMUFRYXGBsf/aAAgBAQABPxC3AXpBAUazpfEcpYBeA6YAdp0MCc+rh1XTxoh8EQ7VL56hUR//2Q==",aspectRatio:1,src:"/static/749d10f73bdc6e0f67224fd750e789cc-5e288.jpg",srcSet:"/static/749d10f73bdc6e0f67224fd750e789cc-ece1f.jpg 9w,\n/static/749d10f73bdc6e0f67224fd750e789cc-3d49d.jpg 18w,\n/static/749d10f73bdc6e0f67224fd750e789cc-5e288.jpg 35w,\n/static/749d10f73bdc6e0f67224fd750e789cc-cefb6.jpg 53w,\n/static/749d10f73bdc6e0f67224fd750e789cc-985e4.jpg 70w,\n/static/749d10f73bdc6e0f67224fd750e789cc-19afe.jpg 105w,\n/static/749d10f73bdc6e0f67224fd750e789cc-166f5.jpg 400w",sizes:"(max-width: 35px) 100vw, 35px"}},tylerMcginnis:{sizes:{base64:"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEDAv/EABcBAAMBAAAAAAAAAAAAAAAAAAACAwH/2gAMAwEAAhADEAAAAdZarVmN17LQxAf/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhAjL/2gAIAQEAAQUCxJN0VZKPDjyPT//EABgRAAMBAQAAAAAAAAAAAAAAAAABERAx/9oACAEDAQE/AasfSn//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAECAQE/AZiIf//EABgQAAIDAAAAAAAAAAAAAAAAAAABECBB/9oACAEBAAY/AjKqf//EABwQAQACAQUAAAAAAAAAAAAAAAEAEUEQMVFxkf/aAAgBAQABPyEyJQCUeMR7hCW2RLqPw0NrZ//aAAwDAQACAAMAAAAQ/AdB/8QAGBEBAAMBAAAAAAAAAAAAAAAAAQAQQTH/2gAIAQMBAT8QdGu0EbP/xAAYEQEBAQEBAAAAAAAAAAAAAAABAEERMf/aAAgBAgEBPxATly8khy//xAAcEAEAAgMBAQEAAAAAAAAAAAABABEhMWGBQVH/2gAIAQEAAT8QOkeS8YFg88OJt8eSxlB03FFYpls1yYrH9iPe/sVqGOyp/9k=",aspectRatio:1,src:"/static/10a538a3c8448b39218a06087901eef1-5e288.jpg",srcSet:"/static/10a538a3c8448b39218a06087901eef1-ece1f.jpg 9w,\n/static/10a538a3c8448b39218a06087901eef1-3d49d.jpg 18w,\n/static/10a538a3c8448b39218a06087901eef1-5e288.jpg 35w,\n/static/10a538a3c8448b39218a06087901eef1-cefb6.jpg 53w,\n/static/10a538a3c8448b39218a06087901eef1-985e4.jpg 70w,\n/static/10a538a3c8448b39218a06087901eef1-19afe.jpg 105w,\n/static/10a538a3c8448b39218a06087901eef1-dfa4e.jpg 514w",sizes:"(max-width: 35px) 100vw, 35px"}},imageSharp:{sizes:{base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAC4jAAAuIwF4pT92AAABcklEQVQoz61TS0sCYRSd/9YuimjRojTHGW1RQZtaFO2iAt2IIb2IIFy0EIrKEh2d8THqmI80GgJBA3HRvvan717oiaZQi8OZme9yvnPuvSPNFev4T0hK2oI7lYeSLjHcqQIUowhFFzAsLpq3Gjixm1guNQYLenIVyFoOciL7ISonTRam71S0WrPR7XaxaZiDBcmdS4jNxgy44hk4r1OYPo8JTor3NBetVW3cP9jYzhSHiCzikROOmba+HXrMCnPwsYVWu42AZgwXmVzKmgk1U4K3cMf4WvT88opOp4NIJIKlH5f2dDhzGYfjKiFi68z8fKPDm69xUbj5hNt6HSs+PyZ2doXzan9BNVvm3rn1Ag+GmKLTYN6HQvAK9+N7RxjZ2MJY6KCvqKTyquThyZV5TcgxrxH11Og9BGc0idFACFOnZ5/tEbwg6iVyRBOliMSOKEED9fa3XtH55HGYXVOauH8d14sqpL/+GSRMuNj3IXwYxBvJ34e0UodUhwAAAABJRU5ErkJggg==",aspectRatio:1.7777777777777777,src:"/static/827644873ed1c87bd5e2b85af5e628a1-02350.png",srcSet:"/static/827644873ed1c87bd5e2b85af5e628a1-1e295.png 300w,\n/static/827644873ed1c87bd5e2b85af5e628a1-8c7f7.png 600w,\n/static/827644873ed1c87bd5e2b85af5e628a1-02350.png 1200w,\n/static/827644873ed1c87bd5e2b85af5e628a1-2dfdc.png 1280w",sizes:"(max-width: 307px) 100vw, 307px"}},site:{siteMetadata:{title:"TylerMcGinnis.com - Learn the latest web technologies",slogan:"Learn the latest web technologies",twitterHandle:"tylermcginnis",facebookUrl:"https://www.facebook.com/tylermcginniscom",shareTitle:"TylerMcGinnis.com - Learn the latest web technologies",author:"Tyler McGinnis",siteUrl:"https://tylermcginnis.com",locale:"en_US",avatar:"https://tylermcginnis.com/images/slogan.png",podcastDescription:"Decoding the implementation details of successful Software Engineers."}},markdownRemark:{id:"/Users/tylermcginnis/Code/tylermcginnis.com/src/pages/blog/building-react-apps-gulp-browserify-pt2/index.md absPath of file >>> MarkdownRemark",html:'<hide-from-preview>\n<hr>\n<p>Table of Contents:</p>\n<p><a href="http://tylermcginnis.com/reactjs-tutorial-a-comprehensive-guide-to-building-apps-with-react/">Pt I: A Comprehensive Guide to Building Apps with\nReact.js.</a></p>\n<p><a href="http://tylermcginnis.com/react-js-tutorial-1-5-utilizing-webpack-and-babel-to-build-a-react-js-app/">Pt 1.5: Utilizing Webpack and Babel to build a React.js\nApp</a></p>\n<p><strong><a href="http://tylermcginnis.com/react-js-tutorial-pt-2-building-react-applications-with-gulp-and-browserify/">Pt II: Building React.js Apps with Gulp, and\nBrowserify.</a></strong></p>\n<p><a href="http://tylermcginnis.com/react-js-tutorial-pt-3-architecting-react-js-apps-with-flux/">Pt III: Architecting React.js Apps with\nFlux.</a></p>\n<p><del>Pt IV: Add Routing to your React App with React Router. (Coming Soon)</del>**</p>\n<p><del>Pt V: Add Data Persistence to your React App with Firebase. (Coming Soon)</del>**</p>\n<p><del>Pt VI:Combining React.js, Flux, React Router, Firebase, Gulp, and Browserify. (Coming\nSoon)</del>*</p>\n<p>**<strong>Check out our <a href="https://tylermcginnis.com/courses/">courses</a>. They’re the successor to this blog series.</strong></p>\n<hr>\n<p><strong>Since writing this post I (along with most of the community) have adopted\nWebpack over Gulp. This is still a great post and contains some great\ninformation, but I recommend reading\n<strong><a href="http://tylermcginnis.com/react-js-tutorial-1-5-utilizing-webpack-and-babel-to-build-a-react-js-app/">THIS</a></strong>\ntutorial for actual implementation as this post is a little out of date.</strong></p>\n<hr>\n</hide-from-preview>\n<p>In part 1 we talked about all things React.</p>\n<p>At this point you should feel comfortable with the following parts of React -</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>JSX\nVirtual DOM\nReact.createClass\nrender (method)\nReact.render\nstate\ngetInitialState\nsetState\nprops\npropTypes\ngetDefaultProps\nComponent LifeCycle\ncomponentDidMount\ngetDerivedStateFromProps\ncomponentWillUnmount\nEvents\nonClick\nonSubmit\nonChange</code></pre>\n      </div>\n<p>If you’re not comfortable with the above, go re-read <a href="http://tylermcginnis.com/reactjs-tutorial-a-comprehensive-guide-to-building-apps-with-react/">part\n1</a>.</p>\n<p>At this point you might have noticed that in order to actually build apps with\nReact, you need a way to transform your JSX into JS and also a way to\nexport/import components from other components (or you need to put some thought\ninto how you load your script tags in your HTML). This tutorial is going to\nintroduce Gulp as a way to transform JSX into JS (along with a few other handy\ntransformations). It’s also going to cover using Browserify with React in order\nto be able to import/export components for the use in other components.</p>\n<p><em>I realize that there are many other ways to do the JSX -> JS transformation\nand specifically a lot of people are using webpack for mostly all of this. Those\nother ways are great. I’ve found that for beginners though, Gulp and Browserify\nmake a great pair which abstracts some low level complexities without\nabstracting everything. I hope to build a future tutorial which uses Webpack\ninstead of Gulp/Browserify.</em></p>\n<p>Let’s start with Gulp. If you’ve had experience with another build tool, such as\nGrunt or Broccoli, this will make a lot of sense. If you have no experience with\nbuild tools, this next section is more specifically for you.</p>\n<p>Let’s talk about why we need a tool like Gulp. Think of all the cool tools\ndevelopers have built on top of things like JavaScript and CSS. Let’s use SASS\nand Coffeescript as examples. One day this (or perhaps these) developers got\ntogether and they said something along the lines of “Hey, CSS is cool, but it\nhas a lot of limitations. Let’s make a language that is a layer on top of CSS.\nWhat we can do is we can create a language that is more powerful than CSS and\nhas a lot more features. Then all we have to do is figure out a way for our\nlanguage to have some sort of process to it which allows developers using our\nlanguage to convert it (or transpile it) to actual CSS so the browser can\nunderstand it.” — and that’s exactly what they did. Coffeescript is another\nexample. That conversation probably went like this “Wow JavaScript is so ugly.\nThere’s not even a class keyword. We should build a language that isn’t so ugly\nand then figure out how to transpile it to actual JavaScript because that’s all\nthe browser can understand.” A conversation similar to this most likely occurred\nwhen the React team decided to go with this JSX idea. As long as there’s a way\nto convert the “transpiled language” to a real language the browser can\nunderstand, there’s no issue. One convenient use case for Gulp is that we can\ntell Gulp that whenever we change a certain file or whenever we do some certain\nevent, to go ahead and take our Coffeescript, SASS, JSX (etc), and transpile it\ninto actual JavaScript or CSS.</p>\n<p>Though having Gulp transpile your code is great, if you were only doing that,\nyou probably don’t need the power of Gulp since there are more basic solutions.\nHowever, we’re going to use Gulp for more than just transpiling our JSX into JS.\nLet’s think of some more things we do as developers that could be automated with\na build tool process like Gulp. Perhaps the most obvious processes are the ones\nwe use right before pushing our code to production. We first minify our code\n(shorten variable names, remove white space, etc) in order to minimize our file\nsize. Next thing we usually do is concatenate all of our JavaScript files into\none file so when the client makes a request to the server for our app, it can\ngrab that one concatenated JavaScript file without having to worry about making\na bunch of requests to grab all of the files. Next thing you would need to do is\nhead over to your HTML page and change out all your <code>&#x3C;script></code> tags with just one,\nwhich was the minified JavaScript file. There are a plethora of things you can\ndo with Gulp, we’ll stick with the most common ones for this post.</p>\n<p>Now that you have a better idea of why build tools like Gulp are so handy, let’s\njump into getting started with Gulp.</p>\n<p>The first thing you need to do when starting out with Gulp is to use NPM to\ninstall Gulp globally. If you’re not familiar with NPM, download Node and then\ndo some googling. Using NPM is outside of the scope of this tutorial but is\nfairly straight forward.</p>\n<p>In your terminal run</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>npm install --global gulp</code></pre>\n      </div>\n<p>that will install gulp globally on your computer.</p>\n<p>Now, go ahead and make a new project with a folder structure that looks like\nthis (remember, passively reading this tutorial won’t get you very far).</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>gulpfile.js\nsrc\n  index.html\n  js\n    App.js\n    Child.js\n    Parent.js</code></pre>\n      </div>\n<p>Head over to your <em>index.html</em> page and add the following code.</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src/Child.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src/Parent.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src/App.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>\n</code></pre>\n      </div>\n<p>Notice it’s pretty bare right now. All we really have is a div with an id of app\nand we’re loading React from a CDN.</p>\n<p>Head over to your* Child.js* file and add the following code.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> Child <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  render<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        and <span class="token keyword">this</span> is the <span class="token operator">&lt;</span>b<span class="token operator">></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token punctuation">.</span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>One more boilerplate addition. Now head over to your Parent.js file and add the\nfollowing code.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> Parent <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  render<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token operator">&lt;</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>div<span class="token operator">></span> This is the parent<span class="token punctuation">.</span> <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n        <span class="token operator">&lt;</span>Child name<span class="token operator">=</span><span class="token string">"child"</span><span class="token operator">/</span><span class="token operator">></span>\n      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Now head over to your <em>App.js</em> file and add the following code.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>React<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Parent <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'app\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Notice all we’re doing is creating two components, one child, one parent. The\nparent component is rendered to <em>#app</em> (in <em>App.js</em>), which then renders the\nchild component passing in “child” as a property on props.</p>\n<p>Now comes the fun part. Let’s head over to our <em>gulpfile.js</em> file and start\nbuilding out our build process. Here’s the functionality that we eventually want\nfrom our final gulp build process.</p>\n<p>Development</p>\n<ol>\n<li>Transform our JSX into JS and save the output into a dist/src folder.</li>\n<li>Copy our index.html from our src folder into the dist folder</li>\n<li>Watch changes to any JS or HTML file then run the previous two processes again.</li>\n</ol>\n<p>Production</p>\n<ol>\n<li>Take all the JS files, concat them all together, minify the result, then output\nthe result to one file named build.js to the build folder inside the dist\nfolder</li>\n<li>Replace our <code>&#x3C;script></code> tags in our index.html page with one <code>&#x3C;script></code>\nwhich references our new minified build.js file</li>\n</ol>\n<p>With these processes above we’ll make it very simple to prepare our code for\nproduction and also very simple to convert our JSX to JS during development.</p>\n<h4><strong>Download NPM Packages</strong></h4>\n<p>The very first thing we need to do is set up our package.json file. For those\nunfamiliar with what our package.json is for, it’s essentially just a collection\nof the node packages that are required for our application. In your terminal,\nhead over to the root of this project then type **npm init **and select from the\ndifferent options (you can just hit enter until it finishes). The options don’t\nmatter too much - you can change them later.</p>\n<p>Once you’re finished with that you’ll have a bare package.json file. Now in your\nterminal run the following commands.</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>npm install --save-dev gulp;\nnpm install --save-dev gulp-concat;\nnpm install --save-dev gulp-uglify;\nnpm install --save-dev gulp-react;\nnpm install --save-dev gulp-html-replace;</code></pre>\n      </div>\n<p>If you’ve used npm before, this is pretty straight forward. If you haven’t, we\npractically just did witchcraft. All we did was tell npm to go and download each\nof those packages and save them into our <em>node_modules</em> folder (which was\ncreated for us) and add them to our <em>package.json</em> file as a developer\ndependency. Now if you check out the <em>node_modules</em> folder, it should be full of\nthe packages above. What we can do now is in our <em>gulpfile.js</em> file, we can use\n<strong>require</strong> to essentially import the code from each of the different packages\nand save that functionality into a variable. Let’s do that right now.</p>\n<p>In the top of your <em>gulpfile.js</em> file, add the following code.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> concat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-concat\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-uglify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> react <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-react\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> htmlreplace <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-html-replace\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Notice we’ve created a variable for each of the packages we downloaded earlier.\nNow, each of those variables is just whatever was being exported from each\nindividual package.</p>\n<p>Before we dive into building our different Gulp tasks, we first need to create a\npaths object. This paths object is going to be filled with properties that\nrepresent differents paths. Copy this code under your variable declarations in\nour <em>gulpfile.js</em> file.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token punctuation">{</span>\n  HTML<span class="token punctuation">:</span> <span class="token string">\'src/index.html\'</span><span class="token punctuation">,</span>\n  ALL<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">\'src/js/*.js\'</span><span class="token punctuation">,</span> <span class="token string">\'src/js/**/*.js\'</span><span class="token punctuation">,</span> <span class="token string">\'src/index.html\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  JS<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">\'src/js/*.js\'</span><span class="token punctuation">,</span> <span class="token string">\'src/js/**/*.js\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  MINIFIED_OUT<span class="token punctuation">:</span> <span class="token string">\'build.min.js\'</span><span class="token punctuation">,</span>\n  DEST_SRC<span class="token punctuation">:</span> <span class="token string">\'dist/src\'</span><span class="token punctuation">,</span>\n  DEST_BUILD<span class="token punctuation">:</span> <span class="token string">\'dist/build\'</span><span class="token punctuation">,</span>\n  DEST<span class="token punctuation">:</span> <span class="token string">\'dist\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Now that are paths are defined, let’s create our first gulp task.</p>\n<h4><strong>Gulp Tasks for Development</strong></h4>\n<p>Our first task is going to be called transform and it’s going to be what\ntransforms our JSX into JS. The code for this task looks like this,</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>gulp.task(\'transform\', function(){\n  gulp.src(path.JS)\n    .pipe(react())\n    .pipe(gulp.dest(path.DEST_SRC));\n});</code></pre>\n      </div>\n<p>Perhaps the coolest thing about Gulp is its ability to pipe and chain function\ninvocations. What this means is that we’re able to take one file, transform it\nand do something with it, then take that transformation and do something else\nwith it, then when we’re finished, tell it where to put the newly created file.\nThat’s exactly what we’re doing above. We create a gulp task called transform\nand pass it a callback function. In our callback function we grab the <em>path.JS\narray</em>. Gulp then gets each one of those files, transforms them using the react\nmethod we initialized earlier then pipes that outcome to <em>dist/src</em>. If you ran\nthis task, after you’d see that Gulp took all your JS files, converted your JSX\nto JS, then outputted the results to a new <em>src</em> folder in a new <em>dist</em> folder -\nall in a manner of milliseconds. Pretty rad.</p>\n<p>Let’s create our next Gulp task. All this task is going to do is take our\n<em>index.html</em> file and copy it over to our <em>dist</em> folder so our newly created JS\nfiles from our transform Gulp task above can be referenced by our <em>index.html</em>\npage.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'copy\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>We’re now going to create our last Gulp task for development. What we want to do\nis create a task that will always be running so when we change either our\n<em>index.html</em> or any of the JS files, our two tasks from earlier will run and\nupdate the code in the <em>dist</em> folder.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'watch\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>ALL<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'transform\'</span><span class="token punctuation">,</span> <span class="token string">\'copy\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>What the task above is saying is watch all of our files, whenever any of them\nchange, run the transform task and the copy task. Pretty straightforward.</p>\n<p>Now all we want to do for our development tasks is set up a default task. This\ndefault task will run whenever we type <strong>gulp</strong> in our command line. Here’s the\ncode for that.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'default\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'watch\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>When we type <strong>gulp</strong>, Gulp will run the watch task, which we know watches our\nfiles for changes and then runs the <strong>transform</strong> and <strong>copy</strong> tasks.</p>\n<p>Those are all the tasks we’re going to create for developing. There are\nobviously a plethora of other tasks you could create for dev, but those are what\nwe’ll stick with right now. At this point you should be able to run <strong>gulp</strong> and\nthe JSX in your <em>App.js</em> file will be converted to JS and the output will go to\n<em>dist/src.</em> Your index.html file should have also been copied over to your dist\nfolder. Open your <em>index.html</em> page in the browser and you should see your\ncomponents being rendered.</p>\n<p><strong>Production Gulp Tasks</strong></p>\n<p>Now what we want to do is create a few gulp tasks for production so whenever we\nrun <strong>gulp build</strong> our code will prepare itself to get pushed to production.</p>\n<p>The first task we’re going to build for production is called <strong>build</strong>. This\ntask is going to grab all of our JS files, concatenate all of them together,\nminify them, then output the result to our <em>dist/build</em> folder. The code for\nthat looks like this.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'build\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>JS<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">concat</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_BUILD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>The only thing that might look a little strange is the <em>path.OUT</em> argument we’re\npassing to concat and uglify. All this is doing is telling both of those\nfunctions what the resulting file path should be, so in this case, when we use\ngulp.dest it’s going to take the <em>path.MINIFIED_OUT</em> file (<em>build.min.js</em>) and\noutput it to <em>path.DEST_BUILD</em> (<em>dist/build</em>).</p>\n<p>Now you might notice this is cool, but at this point it’s a little annoying\nbecause whenever we run <strong>gulp build</strong>, we then need to go and change our HTML\nto reference the new <em>build.min.js</em> file rather than <em>src/App.js</em> and whatever\nother script tags we’re referencing here. What if there were a way to, whenever\nwe ran our production gulp tasks, to replace all of our <code>&#x3C;script></code> tags with just\nour new <code>&#x3C;script src=”build/build.mins.js”></code> script and then output that new\nfile to our dist folder? Well, there is. The way we’re going to do that is with\na <strong>gulp-html-replace</strong>. First, we need to head over to our index.html in our\nmain src folder and make some additions. Go ahead and modify the original\nchild/parent/App.js scripts to be wrapped in comments like this.</p>\n<div class="gatsby-highlight">\n      <pre class="language-html"><code><span class="token comment" spellcheck="true">&lt;!-- build:js --></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src/Child.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src/Parent.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>src/App.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token comment" spellcheck="true">&lt;!-- endbuild --></span>\n</code></pre>\n      </div>\n<p>What’s going to happen is we’re going to tell Gulp, “Hey Gulp, when I tell you\nto, concat and minify all my JS files and output them to a new <em>dist/build</em>\nfolder. As you’re doing that go to my copied <em>index.html</em> page in my <em>dist</em>\nfolder and replace the <strong>build:js</strong> comment and whatever is inside of it with\nthis new script tag <code>&#x3C;script src="build/build.min.js">&#x3C;/script></code> but don’t\nchange my original <em>index.html</em> file in my normal <em>src</em> folder because I still\nwant to develop with that.”</p>\n<p>Let’s now build out our replaceHTML task. The code should look like this</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlreplace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token string">\'js\'</span><span class="token punctuation">:</span> <span class="token string">\'build/\'</span> <span class="token operator">+</span> path<span class="token punctuation">.</span>MINIFIED_OUT\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Note that what we give htmlreplace is an object with a key that represents where\nto replace and whose value is what to replace. That ‘js’ key in htmlreplace\ncoincides with** build:js** in our <em>index.html</em> page.</p>\n<p>Very last step is now that both of our production tasks are ready, we need to\ncreate another task that wraps both of those tasks in one. We do that with the\nfollowing code</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'production\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token string">\'build\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Now whenever we run <strong>gulp production</strong>, Gulp will run our <strong>replaceHTML</strong> and\n<strong>build</strong> tasks. Go ahead and give it a try and check that your\n<em>dist/index.html</em> and <em>dist/build/build.min.js</em> files are correct.</p>\n<p>For reference, here’s the full <em>gulpfile.js</em> file.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> concat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-concat\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-uglify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> react <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-react\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> htmlreplace <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-html-replace\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token punctuation">{</span>\n  HTML<span class="token punctuation">:</span> <span class="token string">\'src/index.html\'</span><span class="token punctuation">,</span>\n  ALL<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">\'src/js/*.js\'</span><span class="token punctuation">,</span> <span class="token string">\'src/js/**/*.js\'</span><span class="token punctuation">,</span> <span class="token string">\'src/index.html\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  JS<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">\'src/js/*.js\'</span><span class="token punctuation">,</span> <span class="token string">\'src/js/**/*.js\'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  MINIFIED_OUT<span class="token punctuation">:</span> <span class="token string">\'build.min.js\'</span><span class="token punctuation">,</span>\n  DEST_SRC<span class="token punctuation">:</span> <span class="token string">\'dist/src\'</span><span class="token punctuation">,</span>\n  DEST_BUILD<span class="token punctuation">:</span> <span class="token string">\'dist/build\'</span><span class="token punctuation">,</span>\n  DEST<span class="token punctuation">:</span> <span class="token string">\'dist\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'transform\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>JS<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_SRC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'copy\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'watch\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>ALL<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'transform\'</span><span class="token punctuation">,</span> <span class="token string">\'copy\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'build\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>JS<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">react</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">concat</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_BUILD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlreplace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token string">\'js\'</span><span class="token punctuation">:</span> <span class="token string">\'build/\'</span> <span class="token operator">+</span> path<span class="token punctuation">.</span>MINIFIED_OUT\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'default\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'watch\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'production\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token string">\'build\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>At this point we have a full working build process using just Gulp. As you might\nhave noticed, this method has some weaknesses. First, you have to be very\ncareful how you load your different components in your HTML. Notice that we’re\nloading the <em>Child.js</em> file before the <em>Parent.js</em> file. This makes sense\nbecause <em>Parent.js</em> is dependent upon <em>Child.js</em>. Also note how we’re loading\n<em>Parent.js</em> before we load <em>App.js</em>, again this is because Parent is required in\nthe <em>App.js</em> file. It might seem pretty straight forward in this example but as\nyour app grows, it’s very tricky to keep track of these Parent/Child\nrelationships and not to mention both Child and Parent are now in the global\nscope, which from CS 101 we know is not a good thing. Another weakness in this\nmethod is that if you put a debugger in our JSX, by the time our browser loads\nthat debugger we’re no longer in JSX land but in JS land and we have no way of\ntelling which line the error is on in our original JSX code. This isn’t ideal.\nAlthough we still will always have to debug our transpiled JSX version, it would\nbe neat if we were able to still get the line numbers of where the error was at\nin our original JSX file. Good news is when we introduce Browserify into our\nbuild process, it will take care of both of these weaknesses and more.</p>\n<p>At a fundamental level, all <a href="http://browserify.org/">Browserify</a> allows you to\ndo is require certain packages just like we did earlier with gulp, concat,\nuglify, etc. This has huge benefits for us because not only do we now have\naccess to all of NPMs packages, but we’re now able to require only the packages\n(or React components) we need to for that specific file. This solves our problem\nof all of our components being on the global scope. Let’s take a quick look at\nexporting and requiring modules.</p>\n<p>I remember when I first started leaning about Browserify every definition about\nit would be in terms of commonjs - which meant literally nothing to me because I\nknew nothing about commonjs. That is until I fell upon\n<a href="http://www.reddit.com/r/webdev/comments/2e0161/eli5_amd_commonjs_es6/">this</a>\narticle on Reddit. The author talks about how Commonjs, AMD, and ES6 Modules are\nall ways to “break a Javascript project up into multiple self-contained modules\nand managing the dependencies between them”. That makes sense. I can essentially\ncreate module that can be passed around and used in other parts of my\napplication without having to pollute the global scope. The author continues,\n“CommonJS is the standard implemented by Node. A file can assign any value\n(including a function or object) to its module.exports property and any other\nfile can use require(“filename”) to get a copy of that value. It works great in\nNode but isn’t usable in a web browser; because of a quirk of the way file\nloading in HTML and Javascript works fetching each of the files would cause the\nbrowser to hang until it was loaded. There are, however, some tools (browserify)\nthat will let you write your browser code in CommonJS and automatically convert\nit to something web appropriate.” Then it clicked. All Browserify allows me to\ndo is have the greatness of using require in Node, but on the browser. This is\nfantastic for React because as you’ve probably guessed by now, each React\ncomponent we create can be its own module that we can then require in other\ncomponents based off of need. Let’s take a look at some sample commonjs syntax.</p>\n<p>We’re going to create three files (<strong><em>NOTE: This example (Add, Multiply, Math)\nis just for demonstrating how Commonjs works, it’s not part of the overall\ntutorial</em></strong>). The first file will be called <em>Add.js</em> and it will export an\nobject with an addition helper method on it. The second file will be called\n<em>Multiply.js</em> and it will export an object with a multiplication helper method\non it. The third will be called <em>Math.js</em> where we require and then use our Add\nand Multiply module.</p>\n<p><strong>Add.js file</strong></p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> addObj  <span class="token operator">=</span> <span class="token punctuation">{</span>\n  add<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> addObj<span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p><strong>Multply.js file</strong></p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> multiplyObj <span class="token operator">=</span> <span class="token punctuation">{</span>\n  multiply<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> multiplyObj<span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p><strong>Math.js file</strong></p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> addObj <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>‘<span class="token punctuation">.</span><span class="token operator">/</span>Add’<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> multplyObj <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>‘<span class="token punctuation">.</span><span class="token operator">/</span>Multiply’<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\naddObj<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 7</span>\nmultiplyObj<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 10</span>\n</code></pre>\n      </div>\n<p>Just a few minor things to note about the code above. If you want a certain\nobject or function to be available in a different file, you use module.exports\nto export your code.</p>\n<p>If you want to require whatever was exported from a different file, you use\nrequire and whatever the name of that file was minus the extension.</p>\n<p>Now that we have a solid understanding of how Browserify can make our React code\nmore modular, let’s view the bigger picture of what our build process will look\nlike when we incorporate browserify. We’re still going to have two main tasks,\n<strong>watch</strong> and <strong>build</strong>. <strong>watch</strong> for development and <strong>build</strong> for production.\nOn the surface both of these tasks will look very similar to our tasks before we\nadded Browserify. Our <strong>watch</strong> task is going to concat our JS files, transform\nthem from JSX to JS, and output the results into our <em>dist</em> folder. <strong>build</strong>\nwill also transform our JSX to JS, concatenate, minify, then output the result\nto out <em>dist</em> folder. The process looks similar, but there are actually some\nreally cool features introduced by Browserify which we haven’t talked about.\nWe’ll get those more when we look at the code.</p>\n<p>Let’s jump in.</p>\n<p><strong>Browserify + Gulp + React (Development Tasks)</strong></p>\n<p>Like before, we’re going to start out downloading all of the NPM packages we’ll\nneed for our new gulpfile. However, before we jump into that let’s hurry and\nremove an NPM package we were using for the previous example that we won’t be\nusing for this example. In your terminal run</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>npm uninstall gulp-concat;</code></pre>\n      </div>\n<p>This commands remove the Concat libraries from our <em>package.json</em> and our\n<em>node_modules</em> folder.</p>\n<p>Now let’s install the new NPM packages we will need. Run the following command\nin your terminal.</p>\n<div class="gatsby-highlight">\n      <pre class="language-none"><code>npm install --save-dev vinyl-source-stream;\nnpm install --save-dev browserify;\nnpm install --save-dev watchify;\nnpm install --save-dev reactify;\nnpm install --save-dev gulp-streamify;</code></pre>\n      </div>\n<p>We’ll get into what each of these packages do when we use them in our tasks.\nHead over to your <em>gulpfile.js</em> and go ahead and remove everything. It’s easier\nto start new since we’re introducing a pretty big change with browserify. At the\ntop of your gulpfile add the following code like we did before.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-uglify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> htmlreplace <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-html-replace\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> source <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'vinyl-source-stream\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> browserify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'browserify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> watchify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'watchify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> reactify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'reactify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> streamify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-streamify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token punctuation">{</span>\n  HTML<span class="token punctuation">:</span> <span class="token string">\'src/index.html\'</span><span class="token punctuation">,</span>\n  MINIFIED_OUT<span class="token punctuation">:</span> <span class="token string">\'build.min.js\'</span><span class="token punctuation">,</span>\n  OUT<span class="token punctuation">:</span> <span class="token string">\'build.js\'</span><span class="token punctuation">,</span>\n  DEST<span class="token punctuation">:</span> <span class="token string">\'dist\'</span><span class="token punctuation">,</span>\n  DEST_BUILD<span class="token punctuation">:</span> <span class="token string">\'dist/build\'</span><span class="token punctuation">,</span>\n  DEST_SRC<span class="token punctuation">:</span> <span class="token string">\'dist/src\'</span><span class="token punctuation">,</span>\n  ENTRY_POINT<span class="token punctuation">:</span> <span class="token string">\'./src/js/App.js\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>The first task we’re going to create is our copy task. This is exactly the same\nas before. We’re taking our index.html page and copying it over to our <em>dist</em>\nfolder.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'copy\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Our next task is going to be our main task for development. This one is pretty\nlengthy so I’ll post the code and we’ll walk through it.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'watch\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'copy\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> watcher  <span class="token operator">=</span> <span class="token function">watchify</span><span class="token punctuation">(</span><span class="token function">browserify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    entries<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span>ENTRY_POINT<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token punctuation">[</span>reactify<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    debug<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    cache<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> packageCache<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> fullPaths<span class="token punctuation">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">return</span> watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">\'update\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    watcher<span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_SRC<span class="token punctuation">)</span><span class="token punctuation">)</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Updated\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_SRC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>The very first thing we do is tell Gulp to watch our <em>index.html</em> file for any\nchanges and if something does change, run the copy task.</p>\n<p>The next thing we do is set up a watcher. Watchify works very closely with\nBrowserify. A problem that was occurring with these Browserify/React build\nprocesses was that Browserify would take forever to transpile because it was\ngoing through every component every single time anything changed and would\nre-update the new bundled file. Watchify fixes this. Instead of going through\nevery file, Watchify will cache your files and only update the ones that need to\nbe updated. This makes builds take a LOT less time.</p>\n<p>Notice we’re passing a browserify function invocation to our watchify function\ninvocation. Let’s now talk a bit about that browserify invocation. We’re passing\nbrowserify an object that is going to essentially set up the configurations for\nour browserify build. The first property on the object is <strong>entries</strong>. Notice\nentries is an array with the path of just our main component in it (<em>app.js</em>).\nYou might remember earlier we had a JS array (<em>[‘src/js/</em>.js’,\n‘src/js/<strong>/<em>.js’]</em>) which was every JS file we wanted to be transformed from JSX\nto JS. Well one perk with browserify is that you just tell it the entry point or\nthe main component in your app and it will take care of all the child\ncomponents. Pretty slick. Next we have the **transform</strong> property. Browserify\nworks with more than just React. Here is where we tell Browserify how to\ntransform our code. In this case, we’re using reactify which will take care of\nour JSX to JS transpiling. Next is <strong>debug</strong> which is set to true. This tells\nBrowserify to use source maps. What source maps do is even though we’re\nreferencing the transpiled JSX in our index.html page, through source maps when\nthere is an error in our code, the error will point to the line number in our\nJSX file rather than our transpiled JS file. This is super convenient for\ndebugging. That last line with <strong>cache: {}, packageCache: {}, fullPaths: true</strong>\nis necessary, but we won’t go into it. The watchify website just states that\nit’s needed in order to use watchify.</p>\n<p>The next thing we’re going to do is set up our watcher to watch for updates in\nour parent component or in any of its children components. We tell our watcher\nto watch for updates then we pass it a callback function to invoke whenever\nthere is an update. The code in the callback should look fairly familiar.\n<strong>watcher.bundle() *<em>concatenates all of our different components into one file\nand does some browserify magic to make the module.exports/requires work. Then\nthe rest is just piping the result to our *dist/src</em> folder. The last thing in\nour watch task is that we’re continuing to bundle and pipe after we set up the\non update callback. The reason for this is so that when we first call **gulp\nwatch</strong> our code will bundle and pipe itself to the dist folder even before a\nchange is made. Then any changes made to our JS files after that will just\noverwrite the initial bundled code.</p>\n<p>The last thing for our development tasks is to set the default gulp task to run\nthe watch task so we can now just run <strong>gulp</strong> and our watch task will kick off.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'default\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'watch\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h4><strong>Browserify + Gulp + React (Production Tasks)</strong></h4>\n<p>Just like before we started using Browserify, I like to keep my Development and\nProduction tasks separate. Like before, create a gulp task called <strong>build</strong>.\nThis task is going to be very similar to our <strong>watch</strong> task except this one is\nonly going to bundle and pipe our code without actually watching it for updates.\nIt’s also going to minify the final code then output it to <em>dist/build</em> rather\nthan <em>dist/src</em>.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'build\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  <span class="token function">browserify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    entries<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span>ENTRY_POINT<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token punctuation">[</span>reactify<span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">streamify</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_BUILD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Like I mentioned, this is mostly the same. We got rid of source mapping and our\nwatchify stuff and added minification, but that’s it.</p>\n<p>Also exactly like before we used Browserify, we want to be able to modify our\nindex.html page when it’s ready for production and switch out our regular\nscripts with the minified versions. We’ll use the same <strong>replaceHTML</strong> task that\nwe used before to do this.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlreplace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token string">\'js\'</span><span class="token punctuation">:</span> <span class="token string">\'build/\'</span> <span class="token operator">+</span> path<span class="token punctuation">.</span>MINIFIED_OUT\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>and to wrap both of our production tasks into one gulp process,</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'production\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token string">\'build\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>and that’s it! Here’s what the full <em>gulpfile.js</em> should look like</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-uglify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> htmlreplace <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-html-replace\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> source <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'vinyl-source-stream\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> browserify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'browserify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> watchify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'watchify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> reactify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'reactify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> streamify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'gulp-streamify\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token punctuation">{</span>\n  HTML<span class="token punctuation">:</span> <span class="token string">\'src/index.html\'</span><span class="token punctuation">,</span>\n  MINIFIED_OUT<span class="token punctuation">:</span> <span class="token string">\'build.min.js\'</span><span class="token punctuation">,</span>\n  OUT<span class="token punctuation">:</span> <span class="token string">\'build.js\'</span><span class="token punctuation">,</span>\n  DEST<span class="token punctuation">:</span> <span class="token string">\'dist\'</span><span class="token punctuation">,</span>\n  DEST_BUILD<span class="token punctuation">:</span> <span class="token string">\'dist/build\'</span><span class="token punctuation">,</span>\n  DEST_SRC<span class="token punctuation">:</span> <span class="token string">\'dist/src\'</span><span class="token punctuation">,</span>\n  ENTRY_POINT<span class="token punctuation">:</span> <span class="token string">\'./src/js/App.js\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'copy\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'watch\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'copy\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> watcher  <span class="token operator">=</span> <span class="token function">watchify</span><span class="token punctuation">(</span><span class="token function">browserify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    entries<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span>ENTRY_POINT<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token punctuation">[</span>reactify<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    debug<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    cache<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> packageCache<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> fullPaths<span class="token punctuation">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">return</span> watcher<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">\'update\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    watcher<span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_SRC<span class="token punctuation">)</span><span class="token punctuation">)</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Updated\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_SRC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'build\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  <span class="token function">browserify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    entries<span class="token punctuation">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span>ENTRY_POINT<span class="token punctuation">]</span><span class="token punctuation">,</span>\n    transform<span class="token punctuation">:</span> <span class="token punctuation">[</span>reactify<span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">source</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">streamify</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>MINIFIED_OUT<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST_BUILD<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>HTML<span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlreplace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      <span class="token string">\'js\'</span><span class="token punctuation">:</span> <span class="token string">\'build/\'</span> <span class="token operator">+</span> path<span class="token punctuation">.</span>MINIFIED_OUT\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>DEST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'production\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'replaceHTML\'</span><span class="token punctuation">,</span> <span class="token string">\'build\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\ngulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">\'default\'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">\'watch\'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>You now have a very nice build process that has some very nice features. To\nrecap, those features include</p>\n<ul>\n<li>JSX to JS transformation</li>\n<li>Source maps for debugging</li>\n<li>Fast since Watchify only updating the necessary files</li>\n<li>More modularity with browserify</li>\n<li>Require only the files you need when you need them</li>\n<li>You only need to give browserify your most parent component and it takes care of the rest.</li>\n</ul>\n<p>I hope this tutorial was useful for you.\nAt this point you should be fairly comfortable with React and its different\npieces. You should also have an idea of how to setup a build process using Gulp\nand Browserify to compliment your React development. Up next, Flux and how to\nbetter architect your React.js applications.</p>',
timeToRead:24,frontmatter:{formattedDate:"Jan 19, 2015",key:null,date:"2015-01-19T08:14:05.284Z",description:"A guide to building a React app with Gulp and Browserify.",layout:"article",itunes:null,googlePlay:null,stitcher:null,title:"React Tutorial Pt 2: Building React Applications with Gulp and Browserify.",path:"/react-js-tutorial-pt-2-building-react-applications-with-gulp-and-browserify/",tags:"react",imageName:"buildingReactAppsGulpBrowserify",id:null,course:null,authorName:"Tyler McGinnis",authorId:"tylerMcginnis",authorURL:"https://twitter.com/tylermcginnis"}}},pathContext:{path:"/react-js-tutorial-pt-2-building-react-applications-with-gulp-and-browserify/",thumbnail:"/buildingReactAppsGulpBrowserify/"}}}});
//# sourceMappingURL=path---react-js-tutorial-pt-2-building-react-applications-with-gulp-and-browserify-60188b2557a81674f35f.js.map